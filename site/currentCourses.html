{% extends 'base.html' %}

{% block content %}

<ul class="nav nav-tabs">
		<li><a href="/Participant/availableCourse/">View Abailable Courses</a></li>
		<li class="active"><a href="/Participant/currentCourse/">Current Course</a></li>
		<li><a href="/accounts/logout/">Log-out</a></li>
</ul>
{% if error %}
	<h1>{{ error }}</h1>
{% else %}
<h1>Current Course : {{ course.name }}</h1>
	<table class="table table-striped table-hover">
		<tr>
			<th>Modules:</th>
			<th></th>
		</tr>
		{% for module in moduleList %}
		<tr>
				<td>{{module.name}}</td>
				
				{% for component in componentList %}
						<tr>
						{% if component.module_id == module.id %}
							<td></td>
							<td>{{component.name}}
								{% if component.type == 0 %}
									<div>{{ component.text_content }}</div>
								{% endif %}
								{% if component.type == 1 %}
									<img src="{{ component.link}}" width="auto">
								{% endif %}
								{% if component.type == 2 %}
                    				<a href="{{ component.file.url }}">{{ component.file.name }}</a>
								{% endif %}
								{% if component.type == 3 %}
									<iframe width="560" height="315" src="{{component.link}}"" frameborder="0" allowfullscreen></iframe>
								{% endif %}
								{% if component.type == 4 %}
									<div>Quiz Link:</div>
									<a href="#"></a>
								{% endif %}
							</td>
						{% endif %}
						</tr>
					{% endfor %}
		</tr>
		{% endfor %}
	</table>
	<script>
	function dropfn() {
		var name = document.getElementById("drop").value;
		var r = confirm("Current Course: "+name+"\nAre you sure to drop the current course?\nAll progress will be lost.");
		if (r==true) {
			window.location.href = "/Participant/drop/";
		}
	}
	</script>
	<br>
	<br>
	<span>
	<button id="drop" class="btn btn-danger" value="{{ course.name }}" onclick="dropfn()">Drop</button>
	</span>
	<script>
		$(".role_selection li").removeClass("active");
		$("#participant").addClass("active");
	</script>
{% endif %}


{% endblock %}